<?xml version = "1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="citiMerchant.mapper.DBHandler">

    <select id="coupon_record" useCache="false" parameterType="parameter_for_coupon_record"
            statementType="CALLABLE">
        <![CDATA[
        call coupon_record
        (
                #{IN_MerchantID, mode = IN, jdbcType = VARCHAR },
                #{IN_intervalDate, mode = INT, jdbcType = INT},
                #{totalPoints, mode = OUT, jdbcType = BIGINT}
        );
        ]]>
    </select>

    <parameterMap id="parameter_for_coupon_record" type="java.util.Map">
        <parameter property="IN_MerchantID" mode="IN" jdbcType="VARCHAR"/>
        <parameter property="IN_intervalDate" mode="IN" jdbcType="INTEGER"/>
        <parameter property="totalPoints" mode="OUT" jdbcType="BIGINT"/>
    </parameterMap>

</mapper>
